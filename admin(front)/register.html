<!DOCTYPE html>
<html>
	<head>
		<title>Register</title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

		<link rel="stylesheet" type="text/css" href="css/login.css">
	</head>
	<body>

		<div class="bg"></div>

		<div class="container">
			
			<div class="form-group">
				<input type="text" class="form-control" id="username" name="username" placeholder="Enter Username">

				<br>

				<input name="password" class="form-control" type="password" placeholder="Enter Password"  id="pass1" onkeyup="checkPass(); return false;" />

				<br>

				<input name="repeatpassword" class="form-control" type="password" placeholder="Confirm Password" id="pass2" onkeyup="checkPass(); return false;" />

				<div id="error-nwl"></div>

				<br>

				<button type="submit" class="btn btn-primary btn-block" onclick="submit()">Register</button>
			</div>			
		</div>

		<script type="text/javascript">
			function checkPass()
			{
			    var pass1 = document.getElementById('pass1');
			    var pass2 = document.getElementById('pass2');
			    var message = document.getElementById('error-nwl');
			    var goodColor = "#66cc66";
			    var badColor = "#ff6666";
			 	
			    if(pass1.value.length > 5 && pass1.value.length < 9)
			    {
			        pass1.style.backgroundColor = goodColor;
			        message.style.color = goodColor;
			        message.innerHTML = "character number ok!"
			    }
			    else
			    {
			        pass1.style.backgroundColor = badColor;
			        message.style.color = badColor;
			        message.innerHTML = " you have to enter at least 6 digit!"
			        return;
			    }
			  
			    if(pass1.value == pass2.value)
			    {
			        pass2.style.backgroundColor = goodColor;
			        message.style.color = goodColor;
			        message.innerHTML = "ok!"
			    }
				else
			    {
			        pass2.style.backgroundColor = badColor;
			        message.style.color = badColor;
			        message.innerHTML = " These passwords don't match"
			    }
			}  		
		</script>

		<script type="text/javascript">              
			function submit(){
				    $.ajax({
				        url: "https://mighty-cove-44634.herokuapp.com/newAdmin",
				        // url: "http://127.0.0.1:5050/newAdmin",

				        contentType: 'application/json; charset=utf-8',
				        method:  'POST',
				        dataType: 'json',
				        crossDomain: true,
				        data: JSON.stringify({
				        'username':$('#username').val(),
				        'password':$('#password').val()
				    }),

				      success: function(){
				        alert("Registered Successfully!")
				            window.open('login.html','_self');
				        },   
				      error: function () {
				        alert("Failed to Register!")
				      }

				    });
			    }
		</script>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/jquery/jquery.js"></script>
    <script type="text/javascript" src="vendor/bootstrap/js/bootstrap.js"></script>
	<script type="text/javascript" src="vendor/bootstrap/js/bootstrap.min.js"></script>	

	</body>
</html>